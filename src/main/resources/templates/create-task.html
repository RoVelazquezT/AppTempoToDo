<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
	<meta charset="UTF-8">
	<title>Tempo To Do - Home</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/css/styleCreate.css}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
	<meta name="_csrf" th:content="${_csrf.token}" />
	<meta name="_csrf_header" th:content="${_csrf.headerName}" />
</head>


<body>
	<!-- Barra de navegacion -->
	<nav class="navbar fixed-top bg-dark navbar-dark my-2">
		<div class="container-fluid">
			<div class="d-flex ms-auto gap-2 align-items-center">

				<h3 class="text-light d-none d-lg-block">
					Bienvenid@, <span th:text="${user.username} ?: ''"></span>
				</h3>

				<form th:action="@{/logout}" method="post" class="m-0 mx-5 d-none d-lg-block">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
					<button type="submit" class="btn btn-danger">Cerrar Sesión</button>
				</form>

				<button class="navbar-toggler d-lg-none  " type="button" data-bs-toggle="offcanvas"
					data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
					aria-labelledby="offcanvasDarkNavbarLabel">
					<div class="offcanvas-header">
						<h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Menú</h5>
						<button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
							aria-label="Close"></button>
					</div>
					<div class="offcanvas-body">
						<ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
							<li class="nav-item">
								<a class="nav-link" th:href="@{/tempoHome}">Home</a>
							</li>
							<li class="nav-item">
								<form th:action="@{/logout}" method="post">
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									<button type="submit" class="btn btn-danger">Cerrar Sesión</button>
								</form>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</nav>
	<!-- Seccion Create -->
	<div class="container-principal">

		<div class="seccion-create">
			<div class="todo-app">
				<h2>Crear Tarea</h2>
				<form th:action="@{/save-task}" method="post" id="taskForm">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
					<div class="mb-3">
						<label for="title" class="form-label">Título</label>
						<input type="text" class="form-control" id="title" name="title" placeholder="Ingresar Título..."
							required>
					</div>
					<div class="mb-3">
						<label for="description" class="form-label">Descripción</label>
						<textarea class="form-control" id="description" name="description" rows="3"
							placeholder="Descripción..." maxlength="250"></textarea>
					</div>
					<div class="d-grid">
					<button type="submit" class="btn btn-light">Guardar Tarea</button></div>
				</form>
			</div>
		</div>
	</div>

	

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
	<script th:src="@{/js/script.js}"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
</body>
</html>